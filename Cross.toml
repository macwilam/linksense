# Cross-compilation configuration for LinkSense
# This file configures the `cross` tool for building on different target platforms
#
# The openssl crate is configured with the "vendored" feature, which compiles
# OpenSSL from source during the build. This requires perl and a C compiler,
# which are available in the default cross-rs images.

[build.env]
passthrough = [
    "RUST_BACKTRACE",
    "RUST_LOG",
    # Force vendored OpenSSL compilation by disabling pkg-config lookup
    # This ensures openssl-sys uses the vendored feature to compile from source
    "OPENSSL_NO_PKG_CONFIG=1",
]
